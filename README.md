Data Engineer Take-Home Assessment
Overview
This project demonstrates my skills in building an end-to-end data pipeline, from data collection to storage, and finally to data retrieval through a custom API. The project involves working with the NIST NVD CVE API, storing the collected data in a PostgreSQL database, and designing a REST API to query and analyze the stored data.

Table of Contents
Overview
Setup Instructions
Prerequisites
Data Collection Script
Database Setup
API Development
Database Schema
API Documentation
Analytical Questions
Evaluation Criteria
Setup Instructions
Prerequisites
Ensure you have the following installed:

Python 3.8+
PostgreSQL
Git
Install required Python packages:
pip install requests pandas psycopg2-binary Flask
Data Collection Script
Clone the repository:
sh

git clone <repository_url>
cd <repository_name>
Run the data collection script:
sh

python data_collection.py
This script fetches CVE data from the NIST NVD API and saves it in a JSON file (cve_data.json).

Database Setup
Start your PostgreSQL server and create a database:
sql

CREATE DATABASE cve_data;
Run the database schema script to create tables:
sh

python create_schema.py
Load the collected data into the database:
sh

python load_data.py
API Development
Start the Flask API server:
sh

python app.py
The API will be accessible at http://127.0.0.1:5000/.
Database Schema
The database schema consists of two main tables: products and vulnerabilities.

sql

CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);

CREATE TABLE vulnerabilities (
    cve_id VARCHAR(255) PRIMARY KEY,
    description TEXT,
    severity VARCHAR(50),
    cvss_score DECIMAL(3, 1),
    exploitability_score DECIMAL(3, 1),
    impact_score DECIMAL(3, 1),
    product_id INT,
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);
This schema is designed to efficiently store CVE data with appropriate normalization and indexing.

API Documentation
Endpoints
Get All Vulnerabilities
URL: /vulnerabilities
Method: GET
Description: Retrieve all vulnerabilities.
Response: JSON array of vulnerabilities.
Get Vulnerabilities by CVE ID
URL: /vulnerabilities/<cve_id>
Method: GET
Description: Retrieve a specific vulnerability by its CVE ID.
Response: JSON object of the vulnerability.
Get Vulnerabilities by Product
URL: /vulnerabilities/product/<product_id>
Method: GET
Description: Retrieve vulnerabilities for a specific product.
Response: JSON array of vulnerabilities for the given product.
Example Request
sh

curl http://127.0.0.1:5000/vulnerabilities
Analytical Questions
The API includes endpoints to answer the following analytical questions:

Severity Distribution: Count of vulnerabilities for different severity levels.
Worst Products/Platforms: Products and platforms with the most known vulnerabilities.
Top 10 Vulnerabilities by Impact: Vulnerabilities with the highest impact.
Top 10 Vulnerabilities by Exploitability: Vulnerabilities with the highest exploitability scores.
Top 10 Attack Vectors: Most common attack vectors used in vulnerabilities.
Evaluation Criteria
Code Quality: Clarity, readability, and maintainability of code.
Database Design: Efficiency and appropriateness of the database schema.
API Functionality: Completeness, reliability, and performance of the API.
Problem Solving: Ability to answer analytical questions through API design.
Documentation: Clarity and completeness of the README and API documentation.
Conclusion
This project showcases the complete pipeline from data collection and storage to data analysis and API development. The structure and clarity of the code, the efficiency of the database design, and the functionality of the API are designed to meet the specified evaluation criteria.